div.fullscreen-wrapper
	div#navbar.row.blue.light.border-light(ng-include='"components/navbar/navbar.html"')
		
	div#actionbar.row.blue.light.border
		div.action.action-menu(uib-dropdown)
			span.b2(uib-dropdown-toggle) File
			
			ul.uib-dropdown-menu
				li
					a(ng-click="FrameCtrl.onActionbarSettingsClick()")
						span Settings
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| ,
					
				li
					a(ui-sref="frames")
						span Close
						span.pull-right.text-muted
							span(ng-bind-html="'shift' | symbol")
							span(ng-bind-html="'ctrl' | symbol")
							| W
					
		div.action.action-menu(uib-dropdown)
			span.b2(uib-dropdown-toggle) Edit
			
			ul.uib-dropdown-menu
				li
					a
						span Undo
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| Z
							
				li
					a
						span Redo
						span.pull-right.text-muted
							span(ng-bind-html="'shift' | symbol")
							span(ng-bind-html="'ctrl' | symbol")
							| Z
							
				li.divider
					
				li
					a
						span Copy
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| C
					
				li
					a
						span Cut
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| X
				
				li
					a
						span Paste
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| V
					
				li
					a
						span Delete
					
				li
					a
						span Select all
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| A
					
		div.action.action-menu(uib-dropdown) 
			span.b2(uib-dropdown-toggle) Export
			
			ul.uib-dropdown-menu
				li
					a(ng-click="FrameCtrl.onActionbarSaveAsPngClick()")
						span Save as PNG
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| N
					
				li
					a
						span Save as PDF
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| N
					
				li
					a
						span Save as SVG
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| N
					
				li.divider
					
				li
					a
						span Export to Omnigraffle
					
				li
					a
						span Export to Balsamiq
			
		div.action.action-menu(uib-dropdown) 
			span.b2(uib-dropdown-toggle) View
			
			ul.uib-dropdown-menu
				li
					a
						span Goto artboard
						span.pull-right.text-muted
							span(ng-bind-html="'ctrl' | symbol")
							| 1-9
						
				li.divider 
				
				li
					a(ng-click="FrameCtrl.onActionbarTogglePropertiesClick()")
						span {{ FrameCtrl.propertiesOpen ? 'Hide' : 'Show' }} properties
						span.pull-right.text-muted
							span(ng-bind-html="'shift' | symbol")
							span(ng-bind-html="'ctrl' | symbol")
							| &#8592;
						
				li
					a(ng-click="FrameCtrl.onActionbarToggleActivityClick()")
						span {{ FrameCtrl.activityOpen ? 'Hide' : 'Show' }} activity
						span.pull-right.text-muted
							span(ng-bind-html="'shift' | symbol")
							span(ng-bind-html="'ctrl' | symbol")
							| &#8594;
					
				li
					a
						span Toggle grid
						span.pull-right.text-muted
							span(ng-bind-html="'alt' | symbol")
							span(ng-bind-html="'ctrl' | symbol")
							| ,
					
				li
					a
						span Toggle annotations
						span.pull-right.text-muted
							span(ng-bind-html="'alt' | symbol")
							span(ng-bind-html="'ctrl' | symbol")
							| R
				
				li.divider 
					
				li
					a
						span View fullscreen
						span.pull-right.text-muted tab
					
		a.action.b2(ng-click="FrameCtrl.onActionbarShareClick()") Share

	#frame		
		#quick-add(ng-show="FrameCtrl.quickAdd.open")
			#quick-add-search
				svg.search-icon(version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-510.2 681.1 100.2 100" style="enable-background:new -510.2 681.1 100.2 100;" xml:space="preserve")
					path(d="M-410.7,770.2l-31.3-31.3c4.1-6.1,6.2-13.2,6.2-20.6c0-9.9-3.9-19.3-10.9-26.3s-16.3-10.9-26.3-10.9c-9.9,0-19.3,3.9-26.3,10.9s-10.9,16.3-10.9,26.3s3.9,19.3,10.9,26.3s16.3,10.9,26.3,10.9c7.5,0,14.7-2.2,20.8-6.4l31.3,31.3c1.1,1.1,3,0.8,4.3-0.5l5.3-5.3C-409.8,773.2-409.6,771.3-410.7,770.2z M-472.9,745.4c-14.9,0-27.1-12.1-27.1-27.1s12.2-27.1,27.1-27.1c14.9,0,27.1,12.2,27.1,27.1S-457.9,745.4-472.9,745.4z")

				input(ng-model="FrameCtrl.quickAdd.query", type="text", placeholder="Search for components...", focus-on="FrameCtrl.quickAdd.focus", ng-keydown="FrameCtrl.onActionbarQuickAddKeyDown($event)")
					
			#quick-add-results(ng-show="FrameCtrl.quickAdd.query && FrameCtrl.quickAdd.results.length")
				.component(ng-repeat="component in FrameCtrl.quickAdd.results | limitTo:4", ng-class="{ active: $index == FrameCtrl.quickAdd.index }", ng-click="FrameCtrl.onActionbarQuickAddComponentClick(component)")
					.thumbnail(ng-style="{ 'background-image': 'url(' + component.thumbnail + ')' }")

					.text
						span.name {{ component.title }}
		
		#frame-wrapper
			#frame-layout
				#properties-pane.ui-sidebar(ng-controller="PropertiesCtrl as PropertiesCtrl", ng-show="FrameCtrl.propertiesOpen")
					
					.ui-sidebar-toolbar.ui-sidebar-toolbar-top

					.ui-sidebar-content.form
						ul.properties(ng-if="PropertiesCtrl.selection.length == 1")
							li.form-group.form-group-sm(ng-repeat="property in PropertiesCtrl.selection[0].properties")
								label.form-label.b3.snug.medium.block {{ property.label }}
								
								div.property-control(ng-repeat="control in property.controls", ng-switch="control.ui")
									select.form-control(ng-switch-when="select", placeholder="{{ control.placeholder }}", ng-options="o.value as o.label for o in control.options", ng-model="PropertiesCtrl.models[control.model]", ng-change="PropertiesCtrl.onPropertyControlChange(control)")
									ui-image(ng-switch-when="file", ng-model="PropertiesCtrl.models[control.model]", ui-image-change="PropertiesCtrl.onMediaPropertyControlChange(control, { media: media })")
									ui-icon(ng-switch-when="icon", ng-model="PropertiesCtrl.models[control.model]", ui-icon-change="PropertiesCtrl.onPropertyControlChange(control)")
									input.form-control(ng-switch-default, type="text", placeholder="{{ control.placeholder }}", focus-on="control.focus", ng-model="PropertiesCtrl.models[control.model]", ng-focus="PropertiesCtrl.onPropertyControlFocus(control)", ng-blur="PropertiesCtrl.onPropertyControlBlur(control)", ng-keydown="PropertiesCtrl.onPropertyControlKeydown(control, $event)")
						
						ul.properties(ng-if="PropertiesCtrl.selection.length")			
							li.form-group.form-group-sm
								label.form-label.b3.snug.medium.block Position
								
								div.property-control
									input.form-control(type="text", placeholder="Left")
										
								div.property-control
									input.form-control(type="text", placeholder="Top")
										
							li.form-group.form-group-sm
								label.form-label.b3.snug.medium.block Dimension
								
								div.property-control
									input.form-control(type="text", placeholder="Width")
										
								div.property-control
									input.form-control(type="text", placeholder="Height")
					
				#canvas-area
					ui-tray-region(position="left")
					ui-tray-region(position="right")
						
					canvas#canvas(wireframe, data="FrameCtrl.wireframe", resize, keepalive="true", jqyoui-droppable)
						
					// Media library
					img(ng-repeat="media in FrameCtrl.media", ng-src="{{ media.large }}", id="{{ media._id }}", style="display:none")
					
				#activity-pane.ui-sidebar(ng-controller="ActivityCtrl as ActivityCtrl", ng-show="FrameCtrl.activityOpen")
					
					.ui-sidebar-toolbar.ui-sidebar-toolbar-top
					
					#activity-list.ui-sidebar-content
						div.activity-block(ng-repeat="activity in FrameCtrl.activities", ng-class="{ 'is-first': (activity | activityShowHeader:FrameCtrl.activities[$index-1]) }")
							div.activity-time
								p.b3.medium.snug {{ activity.created_at | momentCalendar:'d' }}
							
							div.activity(ng-class="{ 'is-author': FrameCtrl.getCurrentUser()._id == activity.user._id, 'is-sequence': (activity | activityCollapseItem:FrameCtrl.activities[$index-1]) }", title="{{ activity.created_at | momentPattern:'MMM D YYYY h:mm:ss a' }}")
								div.activity-avatar
									ui-placeholder.avatar(type="user", src="activity.user.image", title="{{ activity.user.name }}")
								
								div.activity-info
									p.b2.medium.snug
										span.activity-name(ng-hide="activity | activityCollapseItem:FrameCtrl.activities[$index-1]") {{ activity.user.name }} 
										span(ng-switch="activity.type")
											span(ng-switch-when="new-frame") created the wireframe
											
											span(ng-switch-when="added-user") invited 
												span.activity-name {{ activity.data.users[0].name }}
												
											span(ng-switch-when="chat") {{ activity.data.message }}
									
					form#activity-form.ui-sidebar-toolbar.ui-sidebar-toolbar-bottom(ng-submit="ActivityCtrl.onActivityFormSubmit()")
						input.ui-input(type="text", ng-model="ActivityCtrl.newMessage")
						button.ui-button.success(type="submit")
							span.h3.strong.loose.uppercase +
						
		#toolbox(ng-controller="ToolboxController as ToolboxController")
			div#toolbox-categories.b2.medium.snug
				span.toolbox-category.active(ng-click="ToolboxController.onAllCategoriesClick()", ng-class="{ active: ToolboxController.all }") All
				span.toolbox-category(ng-repeat="category in ToolboxController.categories", ng-class="{ active: category.active }", ng-click="ToolboxController.onCategoryClick(category)") {{ category.name }}

			div#toolbox-components
				div.toolbox-component(ng-repeat="component in ToolboxController.components | filter:ToolboxController.filterPredicate()", ng-click="ToolboxController.onComponentClick(component)", title="{{ component.title }}", ui-draggable, ui-draggable-end="ToolboxController.onComponentDragEnd($event, component)")
					svg-replace(ng-src="{{ component.preview }}")
		
		div.bottomRight
			#collaborators
					.collaborator(ng-repeat="user in FrameCtrl.collaborators", ui-tooltip="user.name")
						ui-placeholder.avatar(type="user", src="user.image", title="{{ user.name }}")
						div.indicator(ng-style="{ 'background': user.color }")
